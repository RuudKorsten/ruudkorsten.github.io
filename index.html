<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catch the Color</title>
    <style>
        body { margin: 0; display: flex; align-items: center; justify-content: center; height: 100vh; background-color: #333; font-family: Arial, sans-serif; color: #fff; overflow: hidden; }
        #game { position: relative; width: 400px; height: 400px; border: 5px solid #fff; overflow: hidden; }
        .block { position: absolute; width: 50px; height: 50px; background-color: red; border-radius: 5px; transition: background-color 0.3s; }
        #score { position: absolute; top: 10px; left: 10px; font-size: 24px; }
        #timer { position: absolute; top: 10px; right: 10px; font-size: 24px; }
        .game-over { font-size: 36px; text-align: center; }
        .win { color: green; }
        .lose { color: red; }
    </style>
</head>
<body>
    <div id="game">
        <div id="score">Score: 0</div>
        <div id="timer">Time: 30</div>
    </div>
    <div id="message"></div>

    <script>
        const gameArea = document.getElementById('game');
        const scoreDisplay = document.getElementById('score');
        const timerDisplay = document.getElementById('timer');
        const messageDisplay = document.getElementById('message');
        let score = 0;
        let timeLeft = 30;
        let gameInterval, timerInterval;
        
        function startGame() {
            resetGame();
            gameInterval = setInterval(moveBlock, 1000);
            timerInterval = setInterval(updateTimer, 1000);
        }

        function resetGame() {
            score = 0;
            timeLeft = 30;
            scoreDisplay.textContent = 'Score: ' + score;
            timerDisplay.textContent = 'Time: ' + timeLeft;
            messageDisplay.textContent = '';
            createBlock();
        }

        function createBlock() {
            if (document.querySelector('.block')) {
                document.querySelector('.block').remove();
            }
            const block = document.createElement('div');
            block.classList.add('block');
            block.style.top = Math.random() * (gameArea.clientHeight - 50) + 'px';
            block.style.left = Math.random() * (gameArea.clientWidth - 50) + 'px';
            block.style.backgroundColor = getRandomColor();
            gameArea.appendChild(block);
            block.onclick = () => {
                score++;
                scoreDisplay.textContent = 'Score: ' + score;
                createBlock();
                block.remove();
                if (score % 5 === 0) {
                    clearInterval(gameInterval);
                    gameInterval = setInterval(moveBlock, 1000 - (score * 20));
                }
            };
        }

        function getRandomColor() {
            const letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        function moveBlock() {
            createBlock();
        }

        function updateTimer() {
            timeLeft--;
            timerDisplay.textContent = 'Time: ' + timeLeft;
            if (timeLeft <= 0) {
                clearInterval(gameInterval);
                clearInterval(timerInterval);
                endGame();
            }
        }

        function endGame() {
            messageDisplay.innerHTML = score >= 10 ? `<span class="win">You Win!</span>` : `<span class="lose">Game Over!</span>`;
            messageDisplay.innerHTML += `<div>Your score: ${score}</div>`;
            setTimeout(startGame, 3000);
        }
        
        startGame();
    </script>
</body>
</html>